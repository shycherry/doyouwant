<link rel="import" href="../bower_components/polymer/polymer.html">

<polymer-element name="dyw-crossword" attributes="word orientation caseSize">
<template>
  <style>
    :host(.focus)
    {
      background-color: lightblue;
    }
    :host{
      display: inline-block;
    }
    .case{
      border: groove;
      position: relative;
      text-align: center;
    }
    .case.focus{
      font-weight: bold;
    }
  </style>
</template>
<script>
  Polymer('dyw-crossword',{
    caseSize : 100,
    orientation : "vertical",
    domReady : function(){

      var onCaseOver = function(ev){
        var currentNode = ev.path[0];
        if(currentNode.classList.contains("case")){
          currentNode.classList.add("focus");
        }
        console.log(ev);
      };

      var onCaseOut = function(ev){
        var currentNode = ev.path[0];
        if(currentNode.classList.contains("case")){
          currentNode.classList.remove("focus");
        }
        console.log(ev);
      };

      for(var idx in this.word){
        var divCase = document.createElement('div');
        divCase.className = "case";
        divCase.style.width = this.caseSize+"px";
        divCase.style.height = this.caseSize+"px";

        if(this.orientation != "vertical")
          divCase.style.display = "inline-block";

        divCase.textContent = this.word[idx];
        divCase.addEventListener("mouseover", onCaseOver);
        divCase.addEventListener("mouseout", onCaseOut);

        this.shadowRoot.appendChild(divCase);
      }
    },
    getFocus : function()
    {
      this.classList.add("focus");
      this.style.zIndex = 1;
    },
    lostFocus : function()
    {
      this.classList.remove("focus");
      this.style.zIndex = "";
    }
  });
</script>
</polymer-element>
