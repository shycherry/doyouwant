<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="./dyw-crossword.html"/>

<polymer-element name="dyw-crosswords" attributes="caseSize">
<template>
  <style>
    :host{
      display: block;
      position: relative;
      width: 500px;
      height: 500px;
    }
    ::content dyw-crossword {
      color: red;
      position: absolute;
    };
  </style>
  <content id="crosswords" select="dyw-crossword"></content>
</template>
<script>
  Polymer('dyw-crosswords',{
    caseSize : 100,
    ready : function(){
      this.onMutation(this, this.childrenUpdated);
      this.childrenUpdated();
    },
    childrenUpdated : function()
    {
      this.updateChildren();
      this.onMutation(this, this.childrenUpdated);
    },
    updateChildren : function()
    {
      var crosswords = this.$.crosswords.getDistributedNodes();
      for(var idx = 0; idx < crosswords.length; idx++)
      {
        var currentCrossword = crosswords[idx];
        currentCrossword.caseSize = this.caseSize;
        currentCrossword.style.top = idx*(this.caseSize+6)+"px";
        currentCrossword.style.left = idx*(this.caseSize+6)+"px";
      }
    },
  });
</script>
</polymer-element>
